<!DOCTYPE html>
<html>
  <head>
      <title>Arqui-Software</title>
      <meta charset="UTF-8">
      <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
      <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
      <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
      <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css" rel="stylesheet">
  </head>
  <body>
    <style>
      .container {
        font-family: 'Roboto', sans-serif;
      }
    </style>
    <div class="container" style="margin-top: 55px; font-size: 14px;">
      <div class="col-md-4 offset-md-4">
        <h3>Comentarios</h3>
          <% Comment.all.each do |c| %>
            <div class=comment-container style="background-color: #f5f5f5; border-radius: 5px; margin: 10px 0px; padding: 10px;">
              <div class="comment-content" style="font-size: 12px;">
                <%= c.content %>
              </div>
              <div class="col-md-6 offset-md-6">
                <div class="content-data" style="font-size: 10px; text-align:right;">
                  <%= c.client_ip %> <%= c.created_at.strftime("%H:%M %d/%m") %>
                </div>
              </div>
            </div>
          <% end %>
        <form id="my-form" class="needs-validation" action='comment' method='post' style="margin-top: 20px; "novalidate>
          <div class="form-group">
            <!-- <label for="exampleFormControlTextarea1">Ingrese su comentario</label> -->
            <textarea class="form-control" name="content" id="exampleFormControlTextarea1" rows="3" placeholder="Escriba su comentario" data-emojiable="true" required></textarea>
            <div class="invalid-feedback">
              Por favor escriba un comentario.
            </div>
          </div>
          <button type='submit' class='btn btn-primary'>Ingresar</button>
        </form>
      </div>
    </div>
    <script>
    // Example starter JavaScript for disabling form submissions if there are invalid fields
    (function() {
      'use strict';
      window.addEventListener('load', function() {
        // Fetch all the forms we want to apply custom Bootstrap validation styles to
        var forms = document.getElementsByClassName('needs-validation');
        // Loop over them and prevent submission
        var validation = Array.prototype.filter.call(forms, function(form) {
          form.addEventListener('submit', function(event) {
            if (form.checkValidity() === false) {
              event.preventDefault();
              event.stopPropagation();
            }
            form.classList.add('was-validated');
          }, false);
        });
      }, false);
    })();
    </script>
  </body>
</html>
